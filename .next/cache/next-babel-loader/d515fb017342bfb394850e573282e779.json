{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal Projects\\\\test-next\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../comps/Layout';\nimport Link from 'next/link';\nimport useSWR from \"@zeit/swr\";\nimport fetch from \"isomorphic-unfetch\";\nimport { useRouter } from 'next/router';\n\nfunction fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n}\n\nvar PostLink = function PostLink(props) {\n  return __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/[id]\",\n    as: \"/\".concat(props.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, props.id)));\n};\n\nvar Index = function Index() {\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useSWR = useSWR(\"/api/randomQuote\".concat(query.extra ? '?extra=' + query.extra : ''), fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  console.log(data);\n  var author = data === null || data === void 0 ? void 0 : data.author;\n  var quote = data === null || data === void 0 ? void 0 : data.quote;\n  var extras = data === null || data === void 0 ? void 0 : data.extra;\n  if (!data) quote = 'Loading...';\n  if (error) quote = 'Failed to fetch data';\n\n  if (extras == undefined) {\n    extras = 'No extra';\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, quote), author && __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, author), __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, extras), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(PostLink, {\n    id: \"sad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), __jsx(PostLink, {\n    id: \"dudu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })));\n};\n\nexport default Index;","map":{"version":3,"sources":["D:/Personal Projects/test-next/pages/index.js"],"names":["Layout","Link","useSWR","fetch","useRouter","fetcher","url","then","r","json","PostLink","props","id","Index","query","extra","data","error","console","log","author","quote","extras","undefined"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,SAAOH,KAAK,CAACG,GAAD,CAAL,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,GAAjB,CAAP;AACH;;AAED,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK;AAAA,SAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAmB,IAAA,EAAE,aAAMA,KAAK,CAACC,EAAZ,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,KAAK,CAACC,EAAV,CADJ,CADJ,CADkB;AAAA,CAAtB;;AAQA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,mBACET,SAAS,EADX;AAAA,MACRU,KADQ,cACRA,KADQ;;AAAA,gBAEQZ,MAAM,2BAAoBY,KAAK,CAACC,KAAN,GAAc,YAAYD,KAAK,CAACC,KAAhC,GAAwC,EAA5D,GAAkEV,OAAlE,CAFd;AAAA,MAERW,IAFQ,WAERA,IAFQ;AAAA,MAEFC,KAFE,WAEFA,KAFE;;AAIhBC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,MAAMI,MAAM,GAAGJ,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEI,MAArB;AACA,MAAIC,KAAK,GAAGL,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEK,KAAlB;AACA,MAAIC,MAAM,GAAGN,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAED,KAAnB;AAEA,MAAI,CAACC,IAAL,EACIK,KAAK,GAAG,YAAR;AAEJ,MAAIJ,KAAJ,EACII,KAAK,GAAG,sBAAR;;AAEJ,MAAIC,MAAM,IAAIC,SAAd,EAAyB;AACrBD,IAAAA,MAAM,GAAG,UAAT;AACH;;AAED,SACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,KAAL,CADJ,EAESD,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,MAAP,CAFnB,EAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOE,MAAP,CAHR,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,QAAD;AAAU,IAAA,EAAE,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,QAAD;AAAU,IAAA,EAAE,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAJJ,CADJ;AAWH,CA9BD;;AAgCA,eAAeT,KAAf","sourcesContent":["import Layout from '../comps/Layout'\r\nimport Link from 'next/link'\r\nimport useSWR from \"@zeit/swr\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport { useRouter } from 'next/router';\r\n\r\nfunction fetcher(url) {\r\n    return fetch(url).then(r => r.json())\r\n}\r\n\r\nconst PostLink = props => (\r\n    <li>\r\n        <Link href=\"/[id]\" as={`/${props.id}`}>\r\n            <a>{props.id}</a>\r\n        </Link>\r\n    </li>\r\n)\r\n\r\nconst Index = () => {\r\n    const { query } = useRouter()\r\n    const { data, error } = useSWR(`/api/randomQuote${query.extra ? '?extra=' + query.extra : ''}`, fetcher)\r\n\r\n    console.log(data)\r\n    const author = data?.author\r\n    let quote = data?.quote\r\n    let extras = data?.extra\r\n\r\n    if (!data) \r\n        quote = 'Loading...'\r\n\r\n    if (error)\r\n        quote = 'Failed to fetch data'\r\n        \r\n    if (extras == undefined) {\r\n        extras = 'No extra'\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <h1>{quote}</h1>\r\n                {author && <span>{author}</span>}\r\n                <span>{extras}</span>\r\n            <ul>\r\n                <PostLink id=\"sad\"/>\r\n                <PostLink id=\"dudu\"/>\r\n            </ul>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Index\r\n"]},"metadata":{},"sourceType":"module"}
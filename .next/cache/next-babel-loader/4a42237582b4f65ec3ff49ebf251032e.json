{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal Projects\\\\test-next\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../comps/Layout';\nimport Link from 'next/link';\nimport useSWR from \"@zeit/swr\";\nimport fetch from \"isomorphic-unfetch\";\nimport { useRouter } from 'next/router';\n\nfunction fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n}\n\nvar PostLink = function PostLink(props) {\n  return __jsx(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/[id]\",\n    as: \"/\".concat(props.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, props.id)));\n};\n\nvar Index = function Index() {\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useSWR = useSWR(\"/api/randomQuote?extra=\".concat(query.extra), fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  var author = data === null || data === void 0 ? void 0 : data.author;\n  var quote = data === null || data === void 0 ? void 0 : data.quote;\n  var extra = data === null || data === void 0 ? void 0 : data.extra;\n  console.log(extra);\n  if (!data) quote = 'Loading...';\n\n  if (!extra) {\n    extra = 'No extra';\n    console.log(\"asd\");\n  }\n\n  if (error) quote = 'Failed to fetch data';\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, quote), author && __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, author), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, extra), __jsx(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(PostLink, {\n    id: \"sad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), __jsx(PostLink, {\n    id: \"dudu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })));\n};\n\nexport default Index;","map":{"version":3,"sources":["D:/Personal Projects/test-next/pages/index.js"],"names":["Layout","Link","useSWR","fetch","useRouter","fetcher","url","then","r","json","PostLink","props","id","Index","query","extra","data","error","author","quote","console","log"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,SAAOH,KAAK,CAACG,GAAD,CAAL,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,GAAjB,CAAP;AACH;;AAED,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK;AAAA,SAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAmB,IAAA,EAAE,aAAMA,KAAK,CAACC,EAAZ,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,KAAK,CAACC,EAAV,CADJ,CADJ,CADkB;AAAA,CAAtB;;AAQA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,mBACET,SAAS,EADX;AAAA,MACRU,KADQ,cACRA,KADQ;;AAAA,gBAEQZ,MAAM,kCAA2BY,KAAK,CAACC,KAAjC,GAA0CV,OAA1C,CAFd;AAAA,MAERW,IAFQ,WAERA,IAFQ;AAAA,MAEFC,KAFE,WAEFA,KAFE;;AAIhB,MAAMC,MAAM,GAAGF,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEE,MAArB;AACA,MAAIC,KAAK,GAAGH,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEG,KAAlB;AACA,MAAIJ,KAAK,GAAGC,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAED,KAAlB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AAEA,MAAI,CAACC,IAAL,EACIG,KAAK,GAAG,YAAR;;AACJ,MAAI,CAACJ,KAAL,EAAY;AACRA,IAAAA,KAAK,GAAG,UAAR;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH;;AAED,MAAIJ,KAAJ,EACIE,KAAK,GAAG,sBAAR;AAEJ,SACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAL,CADJ,EAESD,MAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,MAAP,CAFnB,EAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHR,EAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOH,KAAP,CAJR,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,QAAD;AAAU,IAAA,EAAE,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,QAAD;AAAU,IAAA,EAAE,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,CADJ;AAYH,CA/BD;;AAiCA,eAAeF,KAAf","sourcesContent":["import Layout from '../comps/Layout'\r\nimport Link from 'next/link'\r\nimport useSWR from \"@zeit/swr\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport { useRouter } from 'next/router';\r\n\r\nfunction fetcher(url) {\r\n    return fetch(url).then(r => r.json())\r\n}\r\n\r\nconst PostLink = props => (\r\n    <li>\r\n        <Link href=\"/[id]\" as={`/${props.id}`}>\r\n            <a>{props.id}</a>\r\n        </Link>\r\n    </li>\r\n)\r\n\r\nconst Index = () => {\r\n    const { query } = useRouter()\r\n    const { data, error } = useSWR(`/api/randomQuote?extra=${query.extra}`, fetcher)\r\n\r\n    const author = data?.author\r\n    let quote = data?.quote\r\n    let extra = data?.extra\r\n    console.log(extra)\r\n\r\n    if (!data) \r\n        quote = 'Loading...'\r\n    if (!extra) {\r\n        extra = 'No extra'\r\n        console.log(\"asd\")\r\n    }\r\n\r\n    if (error)\r\n        quote = 'Failed to fetch data'\r\n\r\n    return (\r\n        <Layout>\r\n            <h1>{quote}</h1>\r\n                {author && <span>{author}</span>}\r\n                <br/>\r\n                <span>{extra}</span>\r\n            <ul>\r\n                <PostLink id=\"sad\"/>\r\n                <PostLink id=\"dudu\"/>\r\n            </ul>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Index\r\n"]},"metadata":{},"sourceType":"module"}